<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Upload Log with Theme</title>
Â  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@1.35.6/dist/umd/supabase.min.js"></script>
Â  <style>
Â  Â  :root {
Â  Â  Â  --primary: #6200ee;
Â  Â  Â  --background: #f2f3f5;
Â  Â  Â  --surface: #ffffff;
Â  Â  Â  --text: #333;
Â  Â  Â  --card-radius: 16px;
Â  Â  Â  --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
Â  Â  }

Â  Â  body.dark {
Â  Â  Â  --primary: #bb86fc;
Â  Â  Â  --background: #121212;
Â  Â  Â  --surface: #1e1e1e;
Â  Â  Â  --text: #e0e0e0;
Â  Â  Â  --shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
Â  Â  }

Â  Â  body {
Â  Â  Â  font-family: "Segoe UI", sans-serif;
Â  Â  Â  background: var(--background);
Â  Â  Â  color: var(--text);
Â  Â  Â  padding: 2rem;
Â  Â  Â  margin: auto;
Â  Â  Â  max-width: 800px;
Â  Â  Â  box-sizing: border-box;
Â  Â  }

Â  Â  h2, h3 {
Â  Â  Â  color: var(--primary);
Â  Â  }

Â  Â  .card {
Â  Â  Â  background: var(--surface);
Â  Â  Â  border-radius: var(--card-radius);
Â  Â  Â  padding: 1.5rem;
Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  transition: transform 0.2s, background 0.3s;
Â  Â  }

Â  Â  .card:hover {
Â  Â  Â  transform: translateY(-2px);
Â  Â  }

Â  Â  input[type="file"],
Â  Â  textarea {
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 0.75rem;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  box-sizing: border-box;
Â  Â  Â  background: var(--surface);
Â  Â  Â  color: var(--text);
Â  Â  }

Â  Â  textarea {
Â  Â  Â  resize: vertical;
Â  Â  }

Â  Â  button {
Â  Â  Â  background-color: var(--primary);
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  padding: 0.75rem 1.5rem;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: background-color 0.3s;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  background-color: #3700b3;
Â  Â  }

Â  Â  .timestamp {
Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  color: #888;
Â  Â  Â  margin-top: 0.5rem;
Â  Â  }

Â  Â  .note {
Â  Â  Â  margin-top: 0.75rem;
Â  Â  }

Â  Â  .preview-img {
Â  Â  Â  max-width: 100%;
Â  Â  Â  margin-top: 1rem;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
Â  Â  }

Â  Â  #themeToggle {
Â  Â  Â  position: fixed;
Â  Â  Â  bottom: 1.5rem;
Â  Â  Â  right: 1.5rem;
Â  Â  Â  width: 48px;
Â  Â  Â  height: 48px;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  background-color: var(--primary);
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
Â  Â  Â  cursor: pointer;
Â  Â  Â  z-index: 999;
Â  Â  Â  transition: background-color 0.3s;
Â  Â  }

Â  Â  #themeToggle:hover {
Â  Â  Â  background-color: #3700b3;
Â  Â  }

Â  Â  @media (max-width: 600px) {
Â  Â  Â  body {
Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  }
Â  Â  Â  .card {
Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  }
Â  Â  Â  button {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>

Â  <h2>ğŸ“¤ Upload File Log</h2>
Â  <div class="card">
Â  Â  <input type="file" id="fileInput" />
Â  Â  <textarea id="noteInput" rows="3" placeholder="à¹€à¸‚à¸µà¸¢à¸™à¹‚à¸™à¹‰à¸•à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰..."></textarea>
Â  Â  <button onclick="upload()">Upload</button>
Â  </div>

Â  <h3>ğŸ“ Uploaded Logs</h3>
Â  <div id="logArea"></div>

Â  <button id="themeToggle" onclick="toggleTheme()">ğŸŒ“</button>

Â  <script>
Â  Â  const supabaseUrl = 'https://fkntlawaawawiusmjsez.supabase.co';
Â  Â  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrbnRsYXdhYXdhd2l1c21qc2V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODcxMjAsImV4cCI6MjA2NTU2MzEyMH0.G-_fLzcpvPla3dUYNCV7qh0j-JHo1Ahr5fS7fQkHdpw';
Â  Â  const client = supabase.createClient(supabaseUrl, supabaseKey);
Â  Â  const logArea = document.getElementById("logArea");

Â  Â  async function loadUploads() {
Â  Â  Â  const { data, error } = await client
Â  Â  Â  Â  .from('uploads')
Â  Â  Â  Â  .select('*')
Â  Â  Â  Â  .order('created_at', { ascending: false });
Â  Â  Â  if (error) return console.error(error);
Â  Â  Â  logArea.innerHTML = '';
Â  Â  Â  data.forEach(renderItem);
Â  Â  }

Â  Â  function renderItem(item) {
Â  Â  Â  const card = document.createElement("div");
Â  Â  Â  card.className = "card";
Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  <div><strong>${item.file_name}</strong></div>
Â  Â  Â  Â  <div class="note">ğŸ“ ${item.note}</div>
Â  Â  Â  Â  <img src="${item.file_url}" class="preview-img" />
Â  Â  Â  Â  <div class="timestamp">ğŸ“… ${new Date(item.created_at).toLocaleString()}</div>
Â  Â  Â  `;
Â  Â  Â  logArea.appendChild(card);
Â  Â  }

Â  Â  async function upload() {
Â  Â  Â  const file = document.getElementById("fileInput").files[0];
Â  Â  Â  const note = document.getElementById("noteInput").value;
Â  Â  Â  if (!file) return alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¹„à¸Ÿà¸¥à¹Œ");

Â  Â  Â  const path = `${Date.now()}_${file.name}`;

Â  Â  Â  const { error: uploadError } = await client.storage.from('uploads').upload(path, file);
Â  Â  Â  if (uploadError) return console.error("âŒ Upload Error:", uploadError);

Â  Â  Â  const { publicURL, error: urlError } = client.storage.from('uploads').getPublicUrl(path);
Â  Â  Â  if (urlError) return console.error("âŒ URL Error:", urlError);

Â  Â  Â  const { error: insertError } = await client.from('uploads').insert({
Â  Â  Â  Â  file_name: file.name,
Â  Â  Â  Â  file_url: publicURL,
Â  Â  Â  Â  note
Â  Â  Â  });
Â  Â  Â  if (insertError) return console.error("âŒ Insert Error:", insertError);

Â  Â  Â  document.getElementById("fileInput").value = "";
Â  Â  Â  document.getElementById("noteInput").value = "";
Â  Â  Â  loadUploads();
Â  Â  }

Â  Â  // Theme toggle
Â  Â  function toggleTheme() {
Â  Â  Â  document.body.classList.toggle("dark");
Â  Â  Â  localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
Â  Â  }

Â  Â  // Load saved theme
Â  Â  window.addEventListener("DOMContentLoaded", () => {
Â  Â  Â  if (localStorage.getItem("theme") === "dark") {
Â  Â  Â  Â  document.body.classList.add("dark");
Â  Â  Â  }
Â  Â  Â  loadUploads();
Â  Â  });
Â  </script>

</body>
</html>
